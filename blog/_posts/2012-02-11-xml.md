---
author: Jiangtang Hu
title: 'Face Off: Review OpenCDISC XML files'
excerpt:
layout: post
category:
  - CDISC
  - SAS
  - XML
tags:
  - CDISC
  - Excel
  - Notepad++
  - Open Source
  - OpenCDISC
  - SAS
  - SAS XML Mapper
  - XML
post_format: [ ]
---
[OpenCDISC][1], the first open source CDISC validator, is already in the toolbox of FDA reviewers (CDER/CBER, see *[CDISC Standards in the Regulatory Submission Process][2]*, 26 January 2012, P.33). The key features in OpenCDISC is a [dichotomy of validation rules (XML based) and application logic][3]. Currently OpenCDISC Validator ([Version 1.2.1][4]) officially supports the four following CDISC modules:

*   [SDTM 3.1.2][5] 
*   [SDTM 3.1.1][6] 
*   [Define.xml 1.0][7] 
*   [ADaM 1.0][8] 



You can get the corresponding configuration files (validation rules) [online][4] or in the software folder (in ..*opencdisc-validatorconfig *with extension of .xml). Since SDTM 3.1.2 has the most rich set of validation rules from Janus, WebSDM and of course additional  OpenCDISC rules by itself, its configuration file (*[config-sdtm-3.1.2.xml][9]*) deserves more attention. Better understanding of [*config-sdtm-3.1.2.xml*][9]* *is the first step to customize the software according to business needs. Followings are some personal tips and tricks to play and even “torture” the file, using Notepad++, web browsers (IE and Firefox), Excel with MSXML and SAS XML Mapper. 

# 1. DON’T use the Windows default Notepad to open and edit the xml file

[![XML_Notepad][11]][11]

while the reason:

> if you use Notepad to open a XML file, almost you get nothing but strings and strings.

and another supporting reason, see bellowing picture.

# 2. USE [Notepad++][11] or other REAL text editors to open and edit it

[![XML_Notepad  ][13]][13]

Notepad++ makes the difference. It supports multiple tabs view, XML syntax highlighting and XML tags match and other fancy stuff never in the plain Notepad. And like OpenCDISC, it’s free, both in sense of free beer and free speech.

Other real text editor, include Vim, UltraEdit and such, but for most users, I still think Notepad++ is the most handy one.

# 3. At first, use a web browsers to review it

[![XML_IE][14]][14]

It is the web view of [*config-sdtm-3.1.2.xml*][9]*. *The secret is a style file, **define-1.0.xsl** in ..opencdisc-validatorconfigschematron. This is another story of dichotomy. The [*config-sdtm-3.1.2.xml*][9] file itself is only used to store metadata (machine-readable), while the style file (also a XML file) used to instruct how to display it (human-readable). Within some proper internal interface, web browsers (I tested in IE and Firefox; Google Chrome doesn’t work). Excel can also render this XML file well (only test on Excel 2010 and 2007) while Web view is much better:

[![XML_Excel][15]][15]



























# 4. The real awesome job: use Microsoft XML parser or other XML parsers to dig into XML structure

[![XML_Tags_Excel][16]][16]

I use Excel 2010 with Microsoft XML parser ([*MSXML 6.0*][16]*. *You can get the version of your MSXML by visiting [this website][17] in IE and you will get the different results when switching to other web browsers because Firefox and Chrome use other parsers). 

You can also get a instance of each XML tag:

[![XML_Tags_Excel_preview][19]][19]

# 5. The real awesome job: use SAS XML Mapper to get the tabulation view

And you may want to exact all the tables in the XML file with tabulation view, ideally, in SAS dataset:

For example, the first few rows in *config-sdtm-3.1.2.xml*:

[![ODM_xml_tab][20]][20]

and the corresponding SAS dataset:

[![ODM_tab][21]][21]



Actually you can put all the data in XML into a big dataset but with lots of redundancies. To use SAS XML Mapper (the latest version is 9.3), you should design a mapping file to tell the structure of the XML file. For the simple ODM dataset, you indicate the table name, column name and path, type and length:

[![map][22]][22]

It never be fun to play with XML files. SAS XML Mapper is supposed to read CDISC ODM based XML files automatically (OpenCDISC XML files are called ODM compliant), but at least for this config-sdtm-3.1.2.xml, it failed and that’s why we should create a mapping file (*see above*) by ourselves. Fortunately you don’t need to write it from scratch (it would be thousands of lines of codes):

*   find a CDISC ODM based XML file that SAS XML Mapper can read automatically, e.g., in <http://www.cdisc.org/define-xml>, a file named *define-example1.xml* works well. 
*   use AutoMap function in SAS XML Mapper to get the mapping file. 
*   modify the mapping file to fit your needs. 
*   for details, refer SAS XML mapping syntax. 

# 6. Final Notes for Excel

Right click [*config-sdtm-3.1.2.xml*][9] then open with “Microsoft Excel”:

[![Excel1][23]][23]

Option 2 will go to section 3. If go with option 1:

[![Excel2][24]][24]

Option 1-1 and 1-2:   tabulation view in section 5

Option  1-3:  tag view in section 4.

 [1]: http://www.opencdisc.org/
 [2]: http://www.cdisc.org/stuff/contentmgr/files/0/8d99d69f1195d2a2954e62d2fbb3470f/misc/cdisc_standards_in_fda_submissions_2012_01_26pdf.pdf
 [3]: http://www.opencdisc.org/projects/validator/opencdisc-validation-framework
 [4]: http://www.opencdisc.org/download
 [5]: http://www.opencdisc.org/projects/validator/cdisc-sdtm-3.1.2-validation-rules
 [6]: http://www.opencdisc.org/projects/validator/cdisc-sdtm-3.1.1-validation-rules
 [7]: http://www.opencdisc.org/projects/validator/cdisc-define.xml-1.0-validation-rules
 [8]: http://www.opencdisc.org/projects/validator/cdisc-adam-1.0-validation-rules
 [9]: http://www.opencdisc.org/downloads/config/config-sdtm-3.1.2-v1.2.zip
 []: http://dl.dropbox.com/u/69732603/XML_Notepad2.png
 [11]: http://notepad-plus-plus.org/
 []: http://dl.dropbox.com/u/69732603/XML_Notepad3.png
 []: http://dl.dropbox.com/u/69732603/XML_IE1.png
 []: http://dl.dropbox.com/u/69732603/XML_Excel.png
 []: http://dl.dropbox.com/u/69732603/XML_Tags_Excel1.png
 [16]: http://en.wikipedia.org/wiki/MSXML
 [17]: http://home.arcor.de/martin.honnen/xslt/processorTest.xml
 []: http://dl.dropbox.com/u/69732603/XML_Tags_Excel_preview1.png
 []: http://dl.dropbox.com/u/69732603/ODM_xml_tab1.png
 []: http://dl.dropbox.com/u/69732603/ODM_tab1.png
 []: http://dl.dropbox.com/u/69732603/map.png
 []: http://dl.dropbox.com/u/69732603/Excel11.png
 []: http://dl.dropbox.com/u/69732603/Excel21.png