---
id: 1394
title: A Quick Look at SAS DS2 Merge
date: 2015-09-04T12:02:39+00:00
author: Jiangtang Hu
layout: post
guid: http://www.jiangtanghu.com/blog/?p=1394
permalink: /2015/09/04/a-quick-look-at-sas-ds2-merge/
categories:
  - SAS
tags:
  - DS2
  - merge
  - SAS
---
<font size="2">The code:</font>

> <font size="2" face="Courier New">data a; <br />&#160;&#160;&#160; input i a $ b $; <br />&#160;&#160;&#160; datalines; <br />&#160;&#160;&#160; 1 a1A b1 <br />&#160;&#160;&#160; 1 a1A b1 <br />&#160;&#160;&#160; 2 a2 b2 <br />&#160;&#160;&#160; ; <br />run;</font>
> 
> <font size="2" face="Courier New">data b; <br />&#160;&#160;&#160; input i a $ c $; <br />&#160;&#160;&#160; datalines; <br />&#160;&#160;&#160; 1 a1C c1 <br />&#160;&#160;&#160; 2 .&#160;&#160; c2 <br />&#160;&#160;&#160; 3 .&#160; c3 <br />&#160;&#160;&#160; ; <br />run;</font>
> 
> <font size="2" face="Courier New">data mrge; <br />&#160;&#160;&#160; <font color="#ff0000">merge</font> a b; <br />&#160;&#160;&#160; by i; <br />run;</font>
> 
> <font size="2" face="Courier New">proc ds2; <br />&#160;&#160;&#160; data ds2; <br />&#160;&#160;&#160;&#160;&#160;&#160; method run(); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <font color="#ff0000">merge</font> a b; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; by i; <br />&#160;&#160;&#160;&#160;&#160;&#160; end; <br />&#160;&#160;&#160;&#160; enddata; <br />&#160;&#160;&#160; run; <br />quit;</font>

<font size="2">The outputs:</font>

[<font size="2"><img title="SAS_DS2_merge" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 3px auto 5px; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="SAS_DS2_merge" src="http://www.jiangtanghu.com/blog/wp-content/uploads/2015/09/SAS_DS2_merge_thumb.png" width="307" height="480" /></font>](http://www.jiangtanghu.com/blog/wp-content/uploads/2015/09/SAS_DS2_merge.png)

<font size="2">The comments:</font>

<font size="2">1. One of the weird behaviors of data step MERGE is that the value “c1” was carried over to row 2 of merged out dataset, Work.Mrge. In output dataset Work.Ds2 (generated by DS2), the row 2 of variable c is missing, which is kind of safe operation as we expected.</font>

<font size="2">2. In both output datasets, value ‘a1C’ overwrote ‘a1A’ in row 1.</font>

<font size="2">3. This DS2 MERGE is available in SAS 9.4 (TS1M3).</font>